# T·∫°o Knowledge Base tr√™n AWS Bedrock

## T·ªïng Quan

Trong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω t·∫°o **2 Knowledge Bases** ƒë·ªÉ cung c·∫•p d·ªØ li·ªáu cho AI Agent:

1. üìä **Knowledge Base 1**: D·ªØ li·ªáu ph√¢n kh√∫c kh√°ch h√†ng (Customer Segmentation)
   - D·ªØ li·ªáu: `customer_segmentation.csv` t·ª´ SageMaker
   - V·ªã tr√≠ S3: `s3://lab-aws-workshop/output_data/customer_segmentation.csv`

2. üì¶ **Knowledge Base 2**: D·ªØ li·ªáu s·∫£n ph·∫©m (Product Catalog)
   - D·ªØ li·ªáu: `sample_product_data.csv`
   - V·ªã tr√≠ S3: `s3://lab-aws-workshop/product_data/sample_product_data.csv`

---

## H∆∞·ªõng D·∫´n Chi Ti·∫øt T·∫°o Knowledge Base

### **B∆∞·ªõc 1Ô∏è‚É£: Truy C·∫≠p Knowledge Bases**

#### **C√°c B∆∞·ªõc:**

1. **V√†o Build ‚Üí Knowledge Bases**

2. **B·∫•m "Create"**

3. **Ch·ªçn Knowledge Base with vector store**

![alt text](image-13.png)

---

### **B∆∞·ªõc 2Ô∏è‚É£: Nh·∫≠p T√™n Cho Knowledge Base**

#### **C√°c Tr∆∞·ªùng C·∫ßn ƒêi·ªÅn:**

1. **Knowledge Base Name**
   ```
   Field: "Knowledge Base name"
   Nh·∫≠p: "customer-segmentation-kb"
   
   üìù G·ª£i √Ω:
      ‚Ä¢ S·ª≠ d·ª•ng lowercase
      ‚Ä¢ S·ª≠ d·ª•ng d·∫•u g·∫°ch ngang (hyphen)
      ‚Ä¢ T√™n m√¥ t·∫£ r√µ n·ªôi dung
      ‚Ä¢ V√≠ d·ª•:
         - customer-segmentation-kb
         - rfm-analysis-kb
         - product-catalog-kb
   ```

![alt text](image-14.png)

---

### **B∆∞·ªõc 3Ô∏è‚É£: C·∫•u h√¨nh Role**

**Ch·ªçn "Create and use a new service role"**

![alt text](image-15.png)

---

### **B∆∞·ªõc 4Ô∏è‚É£: Ch·ªçn Data Source**

#### **C√°c B∆∞·ªõc:**

1. **Ch·ªçn Amazon S3**
![alt text](image-16.png)

2. **B·∫•m "Next"**

---

### **B∆∞·ªõc 5Ô∏è‚É£: Configure Data Source**

#### **C√°c B∆∞·ªõc:**

1. **Nh·∫≠p T√™n Data Source**
   ```
   Field: "Data source name"
   Nh·∫≠p: "customer-segmentation-source"
   
   V√≠ d·ª•:
      - customer-segmentation-source
      - rfm-data-source
      - product-catalog-source
   ```
   ![alt text](image-18.png)

3. **Ch·ªçn S3 Bucket**
   ```
   Trong ph·∫ßn: "S3 URI"
   B·∫•m: "Browse S3"
   
   T√¨m: "lab-aws-workshop"
   Ch·ªçn bucket n√†y v√† t√¨m ƒë·∫øn file: s3://lab-aws-workshop/output_data/customer_segmentation.csv
   ```
   ![alt text](image-19.png)

---

### **B∆∞·ªõc 6Ô∏è‚É£: C·∫•u H√¨nh Parsing v√† Chunking**

1. **Parsing Strategy**
   ```
   AWS Bedrock h·ªó tr·ª£ nhi·ªÅu l·ª±a ch·ªçn parsing d·ªØ li·ªáu kh√°c nhau: 
   - Amazon Bedrock default parser
   - Amazon Bedrock Data Automation as parser
   - Foundation models as a parser
   Trong b√†i lab n√†y s·ª≠ d·ª•ng parser m·∫∑c ƒë·ªãnh c·ªßa AWS Bedrock l√† "Amazon Bedrock default parser"
   ```
    ![alt text](image-17.png)

2. **Chunking Strategy**
   ```
   C√≥ nhi·ªÅu l·ª±a ch·ªçn chunking d·ªØ li·ªáu trong AWS Bedrock.
   Trong b√†i lab n√†y s·ª≠ d·ª•ng default chunking.
   ```
    ![alt text](image-26.png)

3. **Tham kh·∫£o chi ti·∫øt h∆°n ki·∫øn th·ª©c v·ªÅ ph·∫ßn Parsing v√† Chunking t·∫°i**  ***[ƒë√¢y]([thamkhao].parsing_chunking.md)***
---

### **B∆∞·ªõc 7Ô∏è‚É£: Configure Data Storage and Processing**
1. **Embeddings Model**
    ```
    - Trong ph·∫ßn Embeddings Model, ch·ªçn "Select model"
    - Ch·ªçn model Titan Text Embeddings V2
    - B·∫•m "Apply"
    ```
    ![alt text](image-21.png)
    ![alt text](image-27.png)

2. **Vector store**
    ```
    - Ch·ªçn "Quick create a new vector store"
    - Trong Vector store type, ch·ªçn "Amazon S3 Vectors"
    - Nh·∫•n "Next"
    ```
    ![alt text](image-23.png)

    ***Chi ti·∫øt h∆°n ki·∫øn th·ª©c v·ªÅ Vector Store c√≥ th·ªÉ tham kh·∫£o t·∫°i [ƒë√¢y]([thamkhao].vector_store.md)***
---

### **B∆∞·ªõc 8Ô∏è‚É£: Review ph·∫ßn Knowledge Base**

**Xem l·∫°i m·ªôt l∆∞·ª£t c√°c c·∫•u h√¨nh cho ph·∫ßn knowledge base v·ª´a t·∫°o ƒë·ªÉ tr√°nh sai s√≥t:**
![alt text](image-24.png)

**B·∫•m "Create Knowledge Base" v√† ƒë·ª£i 1-2 ph√∫t ƒë·ªÉ t·∫°o knowledge base**

---

## T·∫°o Knowledge Base Th·ª© 2 (Product Data)

### **Quy Tr√¨nh T∆∞∆°ng T·ª±**

Th·ª±c hi·ªán c√°c b∆∞·ªõc t·ª´ 1Ô∏è‚É£ ƒë·∫øn 1Ô∏è‚É£2Ô∏è‚É£ v·ªõi c√°c th√¥ng tin sau:

#### **Th√¥ng Tin Knowledge Base 2:**

```
Knowledge Base Name:
  product-catalog-kb

Description:
  Knowledge base for product catalog and recommendations

Data Source:
  ‚Ä¢ Name: product-catalog-source
  ‚Ä¢ S3 Location: s3://lab-aws-workshop/product_data/sample_product_data.csv

File Details:
  ‚Ä¢ File: sample_product_data.csv
  ‚Ä¢ Format: CSV
  ‚Ä¢ Content: Product catalog, features, benefits, pricing

Embedding Model:
  Titan Embeddings V2

Vector Database:
  S3 vector database
```

---

## K·∫øt Qu·∫£ Cu·ªëi C√πng

### **2 Knowledge Bases ƒê∆∞·ª£c T·∫°o**

![alt text](image-25.png)

#### **Knowledge Base 1Ô∏è‚É£: Customer Segmentation**
```
Name: customer-segmentation-kb
Status: ‚úÖ Ready
Data: RFM segments, customer metrics
Source: s3://lab-aws-workshop/output_data/customer_segmentation.csv
Records: 4 segments (Loyal, Potential, New, At-Risk)
```

#### **Knowledge Base 2Ô∏è‚É£: Product Catalog**
```
Name: product-catalog-kb
Status: ‚úÖ Ready
Data: Product information, features, pricing
Source: s3://lab-aws-workshop/product_data/sample_product_data.csv
Records: ~100-500 products
```

---

**üéâ Xin ch√∫c m·ª´ng! B·∫°n ƒë√£ t·∫°o 2 Knowledge Bases s·∫µn s√†ng cho AI Agent!**

**Ti·∫øp theo:** C·∫•u h√¨nh chi ti·∫øt cho AI Agent! üöÄ